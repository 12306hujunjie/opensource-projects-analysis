# L1 - AutoGen ç³»ç»Ÿå…¨æ™¯åˆ†æ

## æ ¸å¿ƒä½¿å‘½ä¸ä»·å€¼ä¸»å¼ 

**AutoGen** æ˜¯Microsoftå¼€æºçš„å¤šä»£ç†AIåº”ç”¨æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒä½¿å‘½æ˜¯è§£å†³**å¤§è§„æ¨¡å¤šä»£ç†åä½œ**çš„å·¥ç¨‹åŒ–æŒ‘æˆ˜ã€‚å®ƒé€šè¿‡**åˆ†å±‚è®¾è®¡æ¶æ„**å’Œ**ä¼ä¸šçº§ç‰¹æ€§**ï¼Œä¸ºå¼€å‘è€…æä¾›ä»ç®€å•åŸå‹åˆ°ç”Ÿäº§çº§åˆ†å¸ƒå¼AIåº”ç”¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### ğŸŒŸ æ ¸å¿ƒä»·å€¼ä¸»å¼ 

1. **å¤šä»£ç†åä½œå¹³å°** - æ”¯æŒä»£ç†é—´è‡ªä¸»åä½œæˆ–ä¸äººç±»åä½œçš„æ™ºèƒ½ä½“ç³»ç»Ÿ
2. **åˆ†å±‚æŠ½è±¡è®¾è®¡** - æ¸è¿›å¼å¤æ‚æ€§ç®¡ç†ï¼Œæ”¯æŒä¸åŒæŠ½è±¡å±‚çº§çš„å¼€å‘éœ€æ±‚  
3. **ä¼ä¸šçº§å¯é æ€§** - å®Œæ•´çš„çŠ¶æ€ç®¡ç†ã€æ•…éšœæ¢å¤ã€ç›‘æ§é¥æµ‹ç­‰ç”Ÿäº§ç‰¹æ€§
4. **å¼€æ”¾ç”Ÿæ€æ•´åˆ** - ç»Ÿä¸€æ¥å£æ•´åˆç°æœ‰AIå·¥å…·ç”Ÿæ€ï¼Œé¿å…å‚å•†é”å®š

## ç³»ç»Ÿæ¶æ„å…¨æ™¯

AutoGené‡‡ç”¨æ¸…æ™°çš„**ä¸‰å±‚æ¶æ„è®¾è®¡**ï¼Œæ¯å±‚æ‰¿æ‹…æ˜ç¡®çš„èŒè´£å¹¶æ„å»ºåœ¨ä¸‹å±‚ä¹‹ä¸Šï¼š

```mermaid
graph TB
    subgraph "Applications & Tools åº”ç”¨å±‚"
        AS[AutoGen Studio<br/>å¯è§†åŒ–ç•Œé¢]
        AB[AutoGen Bench<br/>æ€§èƒ½è¯„æµ‹]
        MO[Magentic-One<br/>å¤šä»£ç†å›¢é˜Ÿ]
    end
    
    subgraph "Extensions API æ‰©å±•å±‚"
        Models[æ¨¡å‹æä¾›å•†<br/>OpenAI/Anthropic/Azure]
        Tools[å·¥å…·ç³»ç»Ÿ<br/>MCP/LangChain/WebSurfer]
        Memory[è®°å¿†ç³»ç»Ÿ<br/>ChromaDB/Redis/Canvas]
        Executors[ä»£ç æ‰§è¡Œ<br/>Docker/Jupyter/Azure]
    end
    
    subgraph "AgentChat API åº”ç”¨å±‚"
        Agents[ä»£ç†å®ç°<br/>Assistant/UserProxy/CodeExecutor]
        Teams[å›¢é˜Ÿæ¨¡å¼<br/>RoundRobin/Selector/Graph]
        Conversations[å¯¹è¯ç®¡ç†<br/>Messages/Events/States]
    end
    
    subgraph "Core API æ ¸å¿ƒå±‚"
        Runtime[è¿è¡Œæ—¶ç®¡ç†<br/>AgentRuntime]
        Messaging[æ¶ˆæ¯ä¼ é€’<br/>Topic/Subscription]
        Lifecycle[ç”Ÿå‘½å‘¨æœŸ<br/>State/Serialization]
    end
    
    AS --> Models
    AB --> Tools
    MO --> Memory
    
    Models --> Agents
    Tools --> Teams
    Memory --> Conversations
    Executors --> Agents
    
    Agents --> Runtime
    Teams --> Messaging
    Conversations --> Lifecycle
    
    classDef coreLayer fill:#e1f5fe
    classDef agentLayer fill:#f3e5f5  
    classDef extLayer fill:#e8f5e8
    classDef appLayer fill:#fff3e0
    
    class Runtime,Messaging,Lifecycle coreLayer
    class Agents,Teams,Conversations agentLayer
    class Models,Tools,Memory,Executors extLayer
    class AS,AB,MO appLayer
```

### æ¶æ„è®¾è®¡ç†å¿µåˆ†æ

è¿™ç§åˆ†å±‚è®¾è®¡ä½“ç°äº†AutoGençš„**æ¸è¿›å¼å¤æ‚æ€§ç®¡ç†**ç†å¿µï¼š

1. **Core API** - æä¾›æœ€åŸºç¡€çš„ä»£ç†è¿è¡Œæ—¶å’Œæ¶ˆæ¯ä¼ é€’æŠ½è±¡
2. **AgentChat API** - å°è£…å¸¸è§çš„å¯¹è¯æ¨¡å¼å’Œå›¢é˜Ÿåä½œæœºåˆ¶  
3. **Extensions API** - æä¾›ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿé›†æˆå’Œä¸“ä¸šåŒ–èƒ½åŠ›

å¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŠ½è±¡å±‚çº§ï¼Œæ—¢èƒ½è¿›è¡Œåº•å±‚å®šåˆ¶ï¼Œä¹Ÿèƒ½å¿«é€Ÿæ„å»ºåº”ç”¨ã€‚

## æ ¸å¿ƒæŠ€æœ¯ç‰¹è‰²

### 1. ä¼ä¸šçº§è¿è¡Œæ—¶è®¾è®¡

**ä»£ç ä½ç½®**: `autogen/python/packages/autogen-core/src/autogen_core/_agent_runtime.py`

```mermaid
graph LR
    subgraph "Agent Runtime ç”Ÿæ€"
        SR[SingleThreadedAgentRuntime<br/>å•æœºè¿è¡Œæ—¶]
        GR[gRPC Runtime<br/>åˆ†å¸ƒå¼è¿è¡Œæ—¶] 
        ER[Embedded Runtime<br/>åµŒå…¥å¼è¿è¡Œæ—¶]
    end
    
    subgraph "æ ¸å¿ƒæœåŠ¡"
        MM[æ¶ˆæ¯ç®¡ç†<br/>send_message/publish_message]
        SM[çŠ¶æ€ç®¡ç†<br/>save_state/load_state] 
        LM[ç”Ÿå‘½å‘¨æœŸ<br/>register/add_subscription]
    end
    
    SR --> MM
    GR --> SM
    ER --> LM
    
    classDef runtime fill:#e3f2fd
    classDef service fill:#f1f8e9
    
    class SR,GR,ER runtime
    class MM,SM,LM service
```

**è®¾è®¡äº®ç‚¹**ï¼š
- **Protocolæ¥å£è®¾è®¡** - æ”¯æŒå¤šç§è¿è¡Œæ—¶å®ç°ï¼ˆå•æœº/åˆ†å¸ƒå¼/åµŒå…¥å¼ï¼‰
- **å®Œæ•´çŠ¶æ€ç®¡ç†** - æ”¯æŒä»£ç†çŠ¶æ€çš„æŒä¹…åŒ–å’Œæ¢å¤
- **ç”Ÿå‘½å‘¨æœŸæ§åˆ¶** - ä»£ç†æ³¨å†Œã€è®¢é˜…ç®¡ç†ã€èµ„æºæ¸…ç†

### 2. Topic-based æ¶ˆæ¯è·¯ç”±ç³»ç»Ÿ

**ä»£ç ä½ç½®**: `autogen/python/packages/autogen-core/src/autogen_core/_subscription.py`

```mermaid
graph TB
    subgraph "æ¶ˆæ¯è·¯ç”±æœºåˆ¶"
        T1[group_topic_teamid<br/>å›¢é˜Ÿå¹¿æ’­]
        T2[agent_name_teamid<br/>ä»£ç†ç§ä¿¡]
        T3[manager_name_teamid<br/>ç®¡ç†è€…é€šé“] 
        T4[output_topic_teamid<br/>è¾“å‡ºæµ]
    end
    
    subgraph "è®¢é˜…ç®¡ç†"
        TS[TypeSubscription<br/>ç±»å‹è®¢é˜…]
        PS[TypePrefixSubscription<br/>å‰ç¼€è®¢é˜…]
        DS[DefaultSubscription<br/>é»˜è®¤è®¢é˜…]
    end
    
    T1 --> TS
    T2 --> PS
    T3 --> DS
    T4 --> TS
    
    classDef topic fill:#fff3e0
    classDef subscription fill:#e8f5e8
    
    class T1,T2,T3,T4 topic
    class TS,PS,DS subscription
```

**æŠ€æœ¯ä¼˜åŠ¿**ï¼š
- **æ¾è€¦åˆè®¾è®¡** - ä»£ç†é—´é€šè¿‡topicé€šä¿¡ï¼Œæ— éœ€ç›´æ¥ä¾èµ–
- **çµæ´»è·¯ç”±** - æ”¯æŒç‚¹å¯¹ç‚¹ã€å¹¿æ’­ã€å‰ç¼€åŒ¹é…ç­‰å¤šç§è·¯ç”±æ¨¡å¼
- **åˆ†å¸ƒå¼å‹å¥½** - å¤©ç„¶æ”¯æŒè·¨è¿›ç¨‹/è·¨ä¸»æœºçš„ä»£ç†åä½œ

### 3. è·¨è¯­è¨€ä»£ç†åè®®

**ä»£ç ä½ç½®**: `autogen/protos/agent_worker.proto`

AutoGené€šè¿‡protobufå®šä¹‰äº†æ ‡å‡†çš„Agent Worker Protocolï¼Œå®ç°Pythonå’Œ.NETçš„äº’æ“ä½œï¼š

```mermaid
sequenceDiagram
    participant PC as Python Client
    participant GW as gRPC Gateway
    participant NW as .NET Worker
    
    PC->>GW: RegisterAgentType(Pythonä»£ç†ç±»å‹)
    GW->>NW: è½¬å‘æ³¨å†Œè¯·æ±‚
    NW-->>GW: æ³¨å†ŒæˆåŠŸå“åº”
    GW-->>PC: ç¡®è®¤æ³¨å†Œ
    
    PC->>GW: SendMessage(æ¶ˆæ¯å†…å®¹)
    GW->>NW: è·¯ç”±åˆ°.NETä»£ç†
    NW->>NW: å¤„ç†æ¶ˆæ¯
    NW-->>GW: è¿”å›å“åº”
    GW-->>PC: å“åº”æ¶ˆæ¯
```

## é¡¹ç›®ç”Ÿæ€ç³»ç»Ÿ

### å¼€å‘è€…å·¥å…·é“¾

| å·¥å…· | ç”¨é€” | ç‰¹è‰²åŠŸèƒ½ |
|------|------|----------|
| **AutoGen Studio** | å¯è§†åŒ–ç•Œé¢ | æ— ä»£ç å¤šä»£ç†å·¥ä½œæµæ­å»º |
| **AutoGen Bench** | æ€§èƒ½è¯„æµ‹ | ä»£ç†æ€§èƒ½åŸºå‡†æµ‹è¯• |
| **Magentic-One** | ç¤ºä¾‹åº”ç”¨ | çŠ¶æ€çº§å¤šä»£ç†å›¢é˜Ÿå®ç° |

### æŠ€æœ¯ç”Ÿæ€æ•´åˆ

**æ¨¡å‹æä¾›å•†æ”¯æŒ** (`autogen-ext/models/`):
- OpenAI (GPTç³»åˆ—)
- Anthropic (Claudeç³»åˆ—)  
- Azure OpenAI
- Ollama (æœ¬åœ°æ¨¡å‹)
- LlamaCP (å¼€æºæ¨¡å‹)

**å·¥å…·ç”Ÿæ€é›†æˆ** (`autogen-ext/tools/`):
- MCP (Model Context Protocol) - ç»Ÿä¸€å·¥å…·åè®®
- LangChain - ç°æœ‰å·¥å…·ç”Ÿæ€å¤ç”¨
- Semantic Kernel - Microsoft AIå·¥å…·é“¾
- Azure AI Search - ä¼ä¸šæœç´¢èƒ½åŠ›

## æŠ€æœ¯è¾¹ç•Œä¸é€‚ç”¨åœºæ™¯

### âœ… é€‚ç”¨åœºæ™¯

1. **ä¼ä¸šçº§å¤šä»£ç†åº”ç”¨** - éœ€è¦å¯é æ€§ã€å¯è§‚æµ‹æ€§ã€çŠ¶æ€ç®¡ç†
2. **å¤æ‚AIå·¥ä½œæµ** - å¤šä¸ªä¸“ä¸šåŒ–ä»£ç†åä½œå®Œæˆå¤æ‚ä»»åŠ¡  
3. **è·¨å¹³å°AIé›†æˆ** - Python/C#æ··åˆæŠ€æœ¯æ ˆçš„AIåº”ç”¨
4. **é•¿æœŸè¿è¡Œä»»åŠ¡** - éœ€è¦æš‚åœ/æ¢å¤ã€çŠ¶æ€æŒä¹…åŒ–çš„AIç³»ç»Ÿ

### âš ï¸ æŠ€æœ¯é™åˆ¶

1. **å­¦ä¹ æ›²çº¿** - ä¸‰å±‚æ¶æ„å’Œé…ç½®å¤æ‚æ€§éœ€è¦æ—¶é—´æŒæ¡
2. **æ€§èƒ½å¼€é”€** - å®Œæ•´çš„è¿è¡Œæ—¶ç®¡ç†å¸¦æ¥é¢å¤–æ€§èƒ½æˆæœ¬
3. **èµ„æºæ¶ˆè€—** - çŠ¶æ€ç®¡ç†å’Œæ¶ˆæ¯è·¯ç”±éœ€è¦æ›´å¤šå†…å­˜å’ŒCPU

## ç«äº‰ä¼˜åŠ¿åˆ†æ

ä¸å…¶ä»–å¤šä»£ç†æ¡†æ¶ç›¸æ¯”ï¼ŒAutoGençš„ç‹¬ç‰¹ä¼˜åŠ¿ï¼š

| ç‰¹æ€§ | AutoGen | CrewAI | LangGraph |
|------|---------|---------|-----------|
| **ä¼ä¸šçº§ç‰¹æ€§** | âœ… å®Œæ•´ | âŒ æœ‰é™ | âš¡ éƒ¨åˆ† |
| **è·¨è¯­è¨€æ”¯æŒ** | âœ… Python/.NET | âŒ Python only | âŒ Python only |
| **åˆ†å±‚æŠ½è±¡** | âœ… ä¸‰å±‚æ¸…æ™° | âš¡ ä¸¤å±‚ | âš¡ å•å±‚ |
| **ç”Ÿæ€æ•´åˆ** | âœ… å¹¿æ³› | âš¡ ä¸­ç­‰ | âœ… è‰¯å¥½ |
| **çŠ¶æ€ç®¡ç†** | âœ… å®Œæ•´ | âŒ ç®€å• | âœ… å›¾çŠ¶æ€ |

---

**æ ¸å¿ƒæ´å¯Ÿ**: AutoGenä¸ä»…æ˜¯å¤šä»£ç†æ¡†æ¶ï¼Œæ›´æ˜¯å¤šä»£ç†åº”ç”¨çš„"æ“ä½œç³»ç»Ÿ"ã€‚å…¶ä¸‰å±‚æ¶æ„è®¾è®¡å’Œä¼ä¸šçº§ç‰¹æ€§ä¸ºæ„å»ºç”Ÿäº§çº§AIåº”ç”¨æä¾›äº†åšå®åŸºç¡€ã€‚